<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - QuantumFlow</title>
    <meta name="description" content="Complete API reference for QuantumFlow with examples and usage guidelines.">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/animations.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html" style="text-decoration: none; color: inherit;">
                    <span class="quantum-text">Quantum</span>
                    <span class="compress-text">Flow</span>
                </a>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../index.html#features" class="nav-link">Features</a>
                <a href="demo.html" class="nav-link">Demo</a>
                <a href="docs.html" class="nav-link">Docs</a>
                <a href="api.html" class="nav-link active">API</a>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- API Reference Section -->
    <section class="api-section">
        <div class="container">
            <div class="api-layout">
                <aside class="api-sidebar">
                    <nav class="api-nav">
                        <h3>API Reference</h3>
                        <ul>
                            <li><a href="#getting-started" class="api-link">Getting Started</a></li>
                            <li><a href="#authentication" class="api-link">Authentication</a></li>
                            <li><a href="#compression-engine" class="api-link">Compression Engine</a></li>
                            <li><a href="#quantum-config" class="api-link">Quantum Config</a></li>
                            <li><a href="#error-handling" class="api-link">Error Handling</a></li>
                            <li><a href="#rest-api" class="api-link">REST API</a></li>
                            <li><a href="#websocket-api" class="api-link">WebSocket API</a></li>
                            <li><a href="#examples" class="api-link">Examples</a></li>
                        </ul>
                    </nav>
                </aside>

                <main class="api-content">
                    <div class="api-header">
                        <h1>API Reference</h1>
                        <p>Complete reference for integrating quantum compression into your applications</p>
                    </div>

                    <section id="getting-started" class="api-section-content">
                        <h2>Getting Started</h2>
                        
                        <h3>Installation</h3>
                        <div class="code-block">
                            <pre><code>npm install quantumflow</code></pre>
                        </div>

                        <h3>Basic Import</h3>
                        <div class="code-block">
                            <pre><code>import { 
    QuantumFlow,
    QuantumConfig,
    CompressionResult 
} from 'quantumflow';</code></pre>
                        </div>
                    </section>

                    <section id="authentication" class="api-section-content">
                        <h2>Authentication</h2>
                        
                        <p>For cloud-based compression services, authentication is required:</p>
                        
                        <div class="code-block">
                            <pre><code>import { CloudAuthService } from 'quantumflow';

const auth = new CloudAuthService({
    apiKey: 'your-api-key',
    endpoint: 'https://api.quantumflow.com'
});

await auth.authenticate();</code></pre>
                        </div>
                    </section>

                    <section id="compression-engine" class="api-section-content">
                        <h2>QuantumFlow</h2>
                        
                        <h3>Constructor</h3>
                        <div class="method-signature">
                            <code>new QuantumFlow(config?: QuantumConfig)</code>
                        </div>
                        
                        <h4>Parameters</h4>
                        <ul>
                            <li><code>config</code> (optional): Configuration object for the compression engine</li>
                        </ul>

                        <h3>Methods</h3>
                        
                        <div class="method-card">
                            <h4>compress(data: Buffer | Uint8Array): Promise&lt;CompressionResult&gt;</h4>
                            <p>Compresses the input data using quantum algorithms.</p>
                            
                            <h5>Parameters</h5>
                            <ul>
                                <li><code>data</code>: The data to compress</li>
                            </ul>
                            
                            <h5>Returns</h5>
                            <p>Promise that resolves to a <code>CompressionResult</code> object</p>
                            
                            <h5>Example</h5>
                            <div class="code-block">
                                <pre><code>const engine = new QuantumCompressionEngine();
const data = Buffer.from('Hello, quantum world!');
const result = await engine.compress(data);

console.log(`Compressed ${result.originalSize} bytes to ${result.compressedSize} bytes`);
console.log(`Compression ratio: ${result.compressionRatio}%`);</code></pre>
                            </div>
                        </div>

                        <div class="method-card">
                            <h4>decompress(compressedData: Buffer): Promise&lt;Buffer&gt;</h4>
                            <p>Decompresses previously compressed data.</p>
                            
                            <h5>Parameters</h5>
                            <ul>
                                <li><code>compressedData</code>: The compressed data to decompress</li>
                            </ul>
                            
                            <h5>Returns</h5>
                            <p>Promise that resolves to the original data</p>
                            
                            <h5>Example</h5>
                            <div class="code-block">
                                <pre><code>const originalData = await engine.decompress(result.compressedData);
console.log(originalData.toString()); // "Hello, quantum world!"</code></pre>
                            </div>
                        </div>

                        <div class="method-card">
                            <h4>compressFile(filePath: string): Promise&lt;CompressionResult&gt;</h4>
                            <p>Compresses a file directly from the filesystem.</p>
                            
                            <h5>Parameters</h5>
                            <ul>
                                <li><code>filePath</code>: Path to the file to compress</li>
                            </ul>
                            
                            <h5>Example</h5>
                            <div class="code-block">
                                <pre><code>const result = await engine.compressFile('./document.pdf');
await fs.writeFile('./document.qf', result.compressedData);</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="quantum-config" class="api-section-content">
                        <h2>QuantumConfig</h2>
                        
                        <p>Configuration object for customizing quantum compression behavior.</p>
                        
                        <div class="config-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Property</th>
                                        <th>Type</th>
                                        <th>Default</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>mode</code></td>
                                        <td><code>'quantum' | 'hybrid' | 'fast'</code></td>
                                        <td><code>'hybrid'</code></td>
                                        <td>Compression mode</td>
                                    </tr>
                                    <tr>
                                        <td><code>level</code></td>
                                        <td><code>number</code></td>
                                        <td><code>7</code></td>
                                        <td>Compression level (1-10)</td>
                                    </tr>
                                    <tr>
                                        <td><code>algorithm</code></td>
                                        <td><code>'superposition' | 'entanglement' | 'hybrid'</code></td>
                                        <td><code>'hybrid'</code></td>
                                        <td>Quantum algorithm to use</td>
                                    </tr>
                                    <tr>
                                        <td><code>errorCorrection</code></td>
                                        <td><code>boolean</code></td>
                                        <td><code>true</code></td>
                                        <td>Enable quantum error correction</td>
                                    </tr>
                                    <tr>
                                        <td><code>threads</code></td>
                                        <td><code>number</code></td>
                                        <td><code>4</code></td>
                                        <td>Number of processing threads</td>
                                    </tr>
                                    <tr>
                                        <td><code>memoryLimit</code></td>
                                        <td><code>number</code></td>
                                        <td><code>1024</code></td>
                                        <td>Memory limit in MB</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h3>Example Configuration</h3>
                        <div class="code-block">
                            <pre><code>const config: QuantumConfig = {
    mode: 'quantum',
    level: 9,
    algorithm: 'superposition',
    errorCorrection: true,
    threads: 8,
    memoryLimit: 2048
};

const engine = new QuantumCompressionEngine(config);</code></pre>
                        </div>
                    </section>

                    <section id="error-handling" class="api-section-content">
                        <h2>Error Handling</h2>
                        
                        <p>The API uses custom error types for different failure scenarios:</p>
                        
                        <div class="error-card">
                            <h4>QuantumCompressionError</h4>
                            <p>Base error class for all compression-related errors.</p>
                            <div class="code-block">
                                <pre><code>try {
    const result = await engine.compress(data);
} catch (error) {
    if (error instanceof QuantumCompressionError) {
        console.error('Compression failed:', error.message);
        console.error('Error code:', error.code);
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="error-card">
                            <h4>MemoryLimitError</h4>
                            <p>Thrown when the input data exceeds the configured memory limit.</p>
                        </div>

                        <div class="error-card">
                            <h4>InvalidDataError</h4>
                            <p>Thrown when the input data is corrupted or invalid.</p>
                        </div>

                        <div class="error-card">
                            <h4>QuantumStateError</h4>
                            <p>Thrown when quantum state operations fail.</p>
                        </div>
                    </section>

                    <section id="rest-api" class="api-section-content">
                        <h2>REST API</h2>
                        
                        <p>For web-based applications, use the REST API endpoints:</p>
                        
                        <h3>Base URL</h3>
                        <div class="code-block">
                            <pre><code>https://api.quantum-compress.com/v1</code></pre>
                        </div>

                        <h3>Endpoints</h3>
                        
                        <div class="endpoint-card">
                            <h4>POST /compress</h4>
                            <p>Compress data using quantum algorithms.</p>
                            
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code>POST /compress
Content-Type: multipart/form-data
Authorization: Bearer your-api-key

{
    "file": [binary data],
    "config": {
        "mode": "quantum",
        "level": 8
    }
}</code></pre>
                            </div>
                            
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code>{
    "success": true,
    "data": {
        "compressedData": "[base64 encoded data]",
        "originalSize": 1024000,
        "compressedSize": 153600,
        "compressionRatio": 85,
        "algorithm": "superposition",
        "processingTime": 2.3
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <h4>POST /decompress</h4>
                            <p>Decompress previously compressed data.</p>
                            
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code>POST /decompress
Content-Type: application/json
Authorization: Bearer your-api-key

{
    "compressedData": "[base64 encoded compressed data]"
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="websocket-api" class="api-section-content">
                        <h2>WebSocket API</h2>
                        
                        <p>For real-time compression with progress updates:</p>
                        
                        <div class="code-block">
                            <pre><code>const ws = new WebSocket('wss://api.quantum-compress.com/v1/ws');

ws.onopen = () => {
    ws.send(JSON.stringify({
        action: 'compress',
        data: base64Data,
        config: { mode: 'quantum', level: 8 }
    }));
};

ws.onmessage = (event) => {
    const message = JSON.parse(event.data);
    
    switch (message.type) {
        case 'progress':
            console.log(`Progress: ${message.progress}%`);
            break;
        case 'complete':
            console.log('Compression complete:', message.result);
            break;
        case 'error':
            console.error('Error:', message.error);
            break;
    }
};</code></pre>
                        </div>
                    </section>

                    <section id="examples" class="api-section-content">
                        <h2>Examples</h2>
                        
                        <h3>Basic File Compression</h3>
                        <div class="code-block">
                            <pre><code>import fs from 'fs/promises';
import { QuantumCompressionEngine } from 'quantum-compression-simulator';

async function compressFile(inputPath: string, outputPath: string) {
    const engine = new QuantumCompressionEngine({
        mode: 'hybrid',
        level: 7
    });
    
    const data = await fs.readFile(inputPath);
    const result = await engine.compress(data);
    
    await fs.writeFile(outputPath, result.compressedData);
    
    console.log(`Compressed ${inputPath}:`);
    console.log(`  Original size: ${result.originalSize} bytes`);
    console.log(`  Compressed size: ${result.compressedSize} bytes`);
    console.log(`  Compression ratio: ${result.compressionRatio}%`);
}

compressFile('document.pdf', 'document.qf');</code></pre>
                        </div>

                        <h3>Batch Processing</h3>
                        <div class="code-block">
                            <pre><code>import { QuantumCompressionEngine } from 'quantum-compression-simulator';
import { glob } from 'glob';

async function batchCompress(pattern: string) {
    const engine = new QuantumCompressionEngine();
    const files = await glob(pattern);
    
    for (const file of files) {
        try {
            const result = await engine.compressFile(file);
            await fs.writeFile(file + '.qf', result.compressedData);
            console.log(`✓ Compressed ${file} (${result.compressionRatio}% reduction)`);
        } catch (error) {
            console.error(`✗ Failed to compress ${file}:`, error.message);
        }
    }
}

batchCompress('**/*.{txt,pdf,docx}');</code></pre>
                        </div>

                        <h3>Stream Processing</h3>
                        <div class="code-block">
                            <pre><code>import { QuantumCompressionStream } from 'quantum-compression-simulator';
import { createReadStream, createWriteStream } from 'fs';

const input = createReadStream('large-file.dat');
const output = createWriteStream('large-file.qf');
const compressor = new QuantumCompressionStream({
    mode: 'fast',
    level: 5
});

input
    .pipe(compressor)
    .pipe(output)
    .on('finish', () => {
        console.log('Stream compression complete');
    });</code></pre>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>QuantumFlow</h3>
                    <p>Quantum-inspired compression algorithm by eliomatters leveraging quantum mechanical principles.</p>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="docs.html">Documentation</a></li>
                        <li><a href="api.html">API Reference</a></li>
                        <li><a href="demo.html">Interactive Demo</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 QuantumFlow by eliomatters. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>